
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>å¹³è³‡ç”¢è¡¨</title>
</head>
<body style="font-family:Arial;padding:20px;">
    <h2>ğŸ“Š å¹³è³‡ç”¢è¡¨</h2>

    è‚¡ç¥¨ä»£è™Ÿ (ä¾‹: 00713.TW):<br>
    <input id="symbol" value="00713.TW"><br><br>

    è‚¡æ•¸:<br>
    <input id="shares" value="22"><br><br>

    æˆæœ¬åƒ¹æ ¼:<br>
    <input id="cost_price" value="50"><br><br>

    ä¸é™ç”¨é€”å€Ÿè²¸é‡‘é¡:<br>
    <input id="loan_amount" value="0"><br><br>

    å€Ÿè²¸åˆ©ç‡ (%):<br>
    <input id="loan_rate" value="2"><br><br>

    <button onclick="calculate()">è¨ˆç®—</button>

    <h3>çµæœï¼š</h3>
    <pre id="result"></pre>

<script>
function calculate() {
    fetch('/calculate', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({
            symbol: document.getElementById("symbol").value,
            shares: document.getElementById("shares").value,
            cost_price: document.getElementById("cost_price").value,
            loan_amount: document.getElementById("loan_amount").value,
            loan_rate: document.getElementById("loan_rate").value
        })
    })
    .then(response => response.json())
    .then(data => {
        document.getElementById("result").innerText =
            "ç¾åƒ¹: " + data.current_price + "\n" +
            "ç¸½æˆæœ¬: " + data.total_cost + "\n" +
            "å¸‚å€¼: " + data.market_value + "\n" +
            "æœªå¯¦ç¾æç›Š: " + data.unrealized_profit + "\n" +
            "ç´¯è¨ˆé…æ¯: " + data.total_dividends + "\n" +
            "æ¯æœˆåˆ©æ¯: " + data.monthly_interest + "\n" +
            "æ·¨å€¼(æ‰£å€Ÿè²¸): " + data.net_value;
    });
}
</script>
</body>
</html>
